<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Карточки</title>
</head>
<body>
	<div class="main-page">
		<div class="card-grid">
			<div></div>
			<div><div class="card offset-card"><div class="text">3</div></div></div>
			<div></div>
			<div></div>
			<div><div class="card"><div class="text">10</div></div></div>
			<div><div class="card offset-card"><div class="text">5</div></div></div>
			<div><div class="card offset-card"><div class="text">1</div></div></div>
			<div><div class="card offset-card"></div></div>
			<div><div class="card offset-card"><div class="text">6</div></div></div>
			<div><div class="card"><div class="text">9</div></div></div>
			<div></div>
			<div><div class="card card-revert"><div class="text">2</div></div></div>
			<div></div>
			<div></div>
			<div><div class="card"><div class="text">8</div></div></div>
			<div></div>
			<div><div class="card"><div class="text">4</div></div></div>
			<div></div>
			<div></div>
			<div><div class="card"><div class="text">7</div></div></div>
		</div>
		<div class="main-text">
			<h1>Кельтский крест</h1>
			1 - ситуация
			<br>
			2 - пресечение
			<br>
			3 - известное, цель, осознание
			<br>
			4 - неизвестное, неосознанное
			<br>
			5 - прошлое
			<br>
			6 - будущее
			<br>
			7 - вы, ваши возможности
			<br>
			8 - другие люди
			<br>
			9 - страхи и надежды
			<br>
			10 - итог
			<br>
		</div>
	</div>

	<div class="modal">
		<img class="card-img" src='./imgs/00.gif'>
		<img class="card-img" src='./imgs/01.gif'>
		<img class="card-img" src='./imgs/02.gif'>
		<img class="card-img" src='./imgs/03.gif'>
		<img class="card-img" src='./imgs/04.gif'>
		<img class="card-img" src='./imgs/05.gif'>
		<img class="card-img" src='./imgs/06.gif'>
		<img class="card-img" src='./imgs/07.gif'>
		<img class="card-img" src='./imgs/08.gif'>
		<img class="card-img" src='./imgs/09.gif'>
		<img class="card-img" src='./imgs/10.gif'>
		<img class="card-img" src='./imgs/11.gif'>
		<img class="card-img" src='./imgs/12.gif'>
		<img class="card-img" src='./imgs/13.gif'>
		<img class="card-img" src='./imgs/14.gif'>
		<img class="card-img" src='./imgs/15.gif'>
		<img class="card-img" src='./imgs/16.gif'>
		<img class="card-img" src='./imgs/17.gif'>
		<img class="card-img" src='./imgs/18.gif'>
		<img class="card-img" src='./imgs/19.gif'>
		<img class="card-img" src='./imgs/20.gif'>
		<img class="card-img" src='./imgs/21.gif'>
		<img class="card-img" src='./imgs/22.gif'>
		<img class="card-img" src='./imgs/23.gif'>
		<img class="card-img" src='./imgs/24.gif'>
		<img class="card-img" src='./imgs/25.gif'>
		<img class="card-img" src='./imgs/26.gif'>
		<img class="card-img" src='./imgs/27.gif'>
		<img class="card-img" src='./imgs/28.gif'>
		<img class="card-img" src='./imgs/29.gif'>
		<img class="card-img" src='./imgs/30.gif'>
		<img class="card-img" src='./imgs/31.gif'>
		<img class="card-img" src='./imgs/32.gif'>
		<img class="card-img" src='./imgs/33.gif'>
		<img class="card-img" src='./imgs/34.gif'>
		<img class="card-img" src='./imgs/35.gif'>
		<img class="card-img" src='./imgs/36.gif'>
		<img class="card-img" src='./imgs/37.gif'>
		<img class="card-img" src='./imgs/38.gif'>
		<img class="card-img" src='./imgs/39.gif'>
		<img class="card-img" src='./imgs/40.gif'>
		<img class="card-img" src='./imgs/41.gif'>
		<img class="card-img" src='./imgs/42.gif'>
		<img class="card-img" src='./imgs/43.gif'>
		<img class="card-img" src='./imgs/44.gif'>
		<img class="card-img" src='./imgs/45.gif'>
		<img class="card-img" src='./imgs/46.gif'>
		<img class="card-img" src='./imgs/47.gif'>
		<img class="card-img" src='./imgs/48.gif'>
		<img class="card-img" src='./imgs/49.gif'>
		<img class="card-img" src='./imgs/50.gif'>
		<img class="card-img" src='./imgs/51.gif'>
		<img class="card-img" src='./imgs/52.gif'>
		<img class="card-img" src='./imgs/53.gif'>
		<img class="card-img" src='./imgs/54.gif'>
		<img class="card-img" src='./imgs/55.gif'>
		<img class="card-img" src='./imgs/56.gif'>
		<img class="card-img" src='./imgs/48.gif'>
		<img class="card-img" src='./imgs/49.gif'>
		<img class="card-img" src='./imgs/50.gif'>
		<img class="card-img" src='./imgs/51.gif'>
		<img class="card-img" src='./imgs/52.gif'>
		<img class="card-img" src='./imgs/53.gif'>
		<img class="card-img" src='./imgs/54.gif'>
		<img class="card-img" src='./imgs/55.gif'>
		<img class="card-img" src='./imgs/56.gif'>
		<img class="card-img" src='./imgs/57.gif'>
		<img class="card-img" src='./imgs/58.gif'>
		<img class="card-img" src='./imgs/59.gif'>
		<img class="card-img" src='./imgs/60.gif'>
		<img class="card-img" src='./imgs/61.gif'>
		<img class="card-img" src='./imgs/62.gif'>
		<img class="card-img" src='./imgs/63.gif'>
		<img class="card-img" src='./imgs/64.gif'>
		<img class="card-img" src='./imgs/65.gif'>
		<img class="card-img" src='./imgs/66.gif'>
		<img class="card-img" src='./imgs/67.gif'>
		<img class="card-img" src='./imgs/68.gif'>
		<img class="card-img" src='./imgs/69.gif'>
		<img class="card-img" src='./imgs/70.gif'>
		<img class="card-img" src='./imgs/71.gif'>
		<img class="card-img" src='./imgs/72.gif'>
		<img class="card-img" src='./imgs/73.gif'>
		<img class="card-img" src='./imgs/74.gif'>
		<img class="card-img" src='./imgs/75.gif'>
		<img class="card-img" src='./imgs/76.gif'>
		<img class="card-img" src='./imgs/77.gif'>
	</div>
</body>
</html>

<script type="text/javascript">
	const closeModal = () => {
		document.querySelector('.modal').style.display = 'none';
	}

	const openModal = () => {
		document.querySelector('.modal').style.display = 'block';
	}

	closeModal();

	let modalCard = null;

	document.querySelectorAll('.card').forEach((card) => {
		card.addEventListener('click', () => {
			modalCard = card;
			if (needRemoveImg) {
				modalCard.querySelector('img')?.remove?.();
				needRemoveImg = false;
			} else {
				openModal();
			}
		});
	});

	document.querySelectorAll('.card-img').forEach((cardImg) => {
		cardImg.addEventListener('click', () => {
			modalCard.querySelector('img')?.remove?.();
			const tmpImg = document.createElement('img');
			tmpImg.src = cardImg.src;
			modalCard.appendChild(tmpImg);

			// if ([...modalCard.classList].includes('card-revert')) {
			// 	tmpImg.width = modalCard.clientHeight;
			// 	tmpImg.height = modalCard.clientWidth;
			// } else {
			// 	tmpImg.width = modalCard.clientWidth;
			// 	tmpImg.height = modalCard.clientHeight;
			// }

			closeModal();
		});
	});

	let needRemoveImg = false;


	document.addEventListener("keypress", (event) => {
        const keyName = event.key;
		
   		if (keyName == 'd') {
   			needRemoveImg = true;
   		}
    });
</script>

<style type="text/css">
	.main-page {
		display: flex;
	}

	.card-grid {
		display: grid;
		grid-template-columns: repeat(5, 1fr);
		grid-template-rows: repeat(4, 23vh);

		width: 70%;
	}

	.main-text {
		width: 30%;
	}

	.text {
		position: absolute;
		font-size: 2rem;
		z-index: 5;
		color: white;
		-webkit-text-stroke: 1px black;
		 text-stroke: 1px black;
	}

	.card-grid > div {
		display: flex;
		flex-direction: row;
		justify-content: center;
		align-items: center;
	}

	.card {
		background-color: grey;
		width: 60%;
		height: 95%;
		border-radius: 3%;
		border: 2px solid;
		z-index: 2;
		position: relative;
	}

	.card > img {
		position: absolute;
		top: 0px;
		left: 0px;
		width: 100%;
		height: 100%;
	}

	.card-revert > img {
/*		transform: rotate(90deg);*/
	}

	.card-revert {
		/*width: 90% !important;
		height: 65% !important;*/
		transform: rotate(270deg);
	}

	.offset-card {
		margin-top: 100%;
	}

	.modal {
		position: absolute;
		top: 0px;
		left: 0px;
		width: 100%;
		height: 100%;
		z-index: 10;
		background-color: white;
	}
</style>